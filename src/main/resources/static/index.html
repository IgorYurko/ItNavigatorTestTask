<!DOCTYPE html>
<html lang="en" ng-app="app">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<link rel="stylesheet" href="/webjars/bootstrap/3.3.7/css/bootstrap.min.css"/>
	<link rel="stylesheet" href="/css/style.css"/>
	<script src="/webjars/angularjs/1.6.2/angular.min.js"></script>
	<script src="/js/app.js"></script>
</head>
<body>
	<nav class="navbar navbar-default navbar-static-top">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#">Itnavigator Test Task</a>
			</div>
			<div id="navbar" class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="active"><a href="/">Home</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<div class="container" ng-controller="appController">
		<div class="row">
			<div class="col-md-12">
				<table class="table table-striped table-bordered">
					<thead>
						<tr>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Patronymic</th>
							<th>Phone</th>
							<th>Type</th>
							<th>Comment</th>
							<th>Edit</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="user in users">
							<td>{{user.firstName}}</td>
							<td>{{user.lastName}}</td>
							<td>{{user.patronymic}}</td>
							<td ng-if="user.editable">
								<input type="text" class="form-control" ng-model="users[$index].phone"/>
							</td>
							<td ng-if="user.editable == undefined">
								{{user.phone}}
							</td>
							<td ng-if="user.editable">
								<select class="form-control" ng-model="users[$index].type">
									<option ng-repeat="type in types">{{type | lowercase}}</option>
								</select>
							</td>
							<td ng-if="user.editable == undefined">
								{{user.type | lowercase}}
							</td>
							<td ng-if="user.editable">
								<input type="text" class="form-control" ng-model="users[$index].comment"/>
							</td>
							<td ng-if="user.editable == undefined">
								{{user.comment}}
							</td>
							<td ng-if="user.editable">
								<button class="btn btn-sm btn-success" ng-click="saveData($index)">
									Save
								</button>
							</td>
							<td ng-if="user.editable == undefined">
								<button class="btn btn-sm btn-warning" ng-click="editData($index)">
									Edit
								</button>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
		<div class="row">
			<div class="col-md-9"></div>
			<div class="col-md-3" ng-if="editIndexes.length > 0">
				<button class="btn btn-sm btn-success" ng-click="saveAllData()">
					Save All
				</button>
			</div>
		</div>
		
	</div>
	<footer id="footer">
		<div class="container">
			<p class="text-muted">Spring Boot, Hibernate, Lombok, AngularJs, Bootstrap</p>
		</div>
	</footer>
</body>
</html>